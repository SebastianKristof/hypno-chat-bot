---
description: Cursor Rules for CrewAI Hypnotherapy Chatbot
globs: "**/*.{py,yaml,json,md}"
alwaysApply: true
---

# üìò Cursor Coding Assistant Rules for CrewAI (Hypno Chatbot)

## üîç Project Context
This project uses [CrewAI](mdc:https:/github.com/joaomdmoura/crewai), an open-source Python framework for orchestrating multi-agent autonomous workflows.

We're building a hypnotherapy chatbot using CrewAI agents and tasks, structured as YAML files and Python modules.

## When you need more information or to understand the project
Check the files in ./cursor-rules folder for project information.

1. **index.md** - Main documentation index with links to all other documentation files for the hypnotherapy chatbot project.

2. **project-structure.md** - Basic directory structure and file organization for the project, showing a simple tree layout.

3. **updated-project-structure.md** - Comprehensive and detailed project structure with explanations of each directory and file's purpose. Includes implementation strategy and directory hierarchy.

4. **project-overview.md** - Comprehensive overview of the project objectives and approaches for the hypnotherapy chatbot.

5. **.cursor-rules.mdc** - Primary Cursor configuration with CrewAI integration guidelines.

6. **agents.md** - Contains YAML configuration for the two main agents (support_assistant and qa_agent) with their roles, goals, and backstories, plus task definitions.

7. **agent-prompts.md** - Detailed system prompts for both agents with comprehensive instructions, guidelines, and few-shot examples for handling different scenarios.

8. **safety-protocols.md** - Content safety rules and intervention protocols for ensuring the chatbot handles sensitive situations appropriately.

9. **rag-tool.md** - Implementation details for Retrieval-Augmented Generation to provide accurate hypnotherapy information.

10. **dev-env-hosting.md** - Development environment setup and deployment guidance.

11. **crewai-best-practices.md** - Detailed best practices for implementing a multi-agent chatbot using CrewAI, including architecture principles, tool implementation, agent configuration, and testing approaches.

12. **implementation-examples/** - Directory containing sample code and implementation examples.

## üß† When You're Not Sure About Something...

If you're unsure how a class, method, or tool works:

### üîó Use These Sources of Truth:
- ‚úÖ [CrewAI GitHub Repository (source code)](mdc:https:/github.com/joaomdmoura/crewai)
- ‚úÖ [CrewAI Official Docs](mdc:https:/docs.crewai.com)

These are always more reliable than hallucinating logic or assumptions. Always double-check the GitHub codebase, especially for:

- `Agent`, `Task`, `Crew`, `Process` classes
- YAML configuration expectations
- Available built-in tools (`crewai_tools`)
- CLI features like `crewai create <project>`

---

## üõ†Ô∏è Tools You Can Expect

This project may include:
- Custom `@tool` decorators from `crewai_tools`
- External tools like RAG (e.g., `LangChain` retrievers)
- FastAPI for serving the chatbot backend

Avoid assuming tool behavior ‚Äî instead, trace the decorators or refer to LangChain/LlamaIndex docs when integrating.

---

## üìù YAML Tip

YAML config files in `src/hypnobot/config/agents.yaml` and `tasks.yaml` follow this pattern:

```yaml
agent_name:
  role: >
    Role of the agent
  goal: >
    What they're trying to achieve
  backstory: >
    Detailed context for better prompts
```

Make sure to format these cleanly. The agents/tasks are imported via Python and injected into the Crew.

## üí¨ Suggested Prompts for You to Use

```
"Show me the full class definition of Agent from the CrewAI GitHub."
"Based on the official docs, how is a tool expected to behave?"
"Validate this agents.yaml file using the schema from CrewAI."
```

## ü§ñ Model Guidance

This project uses LLMs via LangChain. You can plug in:

- OpenAI
- Gemini (via Google)
- DeepSeek
- Claude
- Local models via Ollama

Don't hardcode OpenAI unless needed ‚Äî costs matter.

---

Thanks, Cursor! üßò‚Äç‚ôÄÔ∏èüíª You're helping build a better therapy experience.